(()=>{var e={};e.id=208,e.ids=[208],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},52669:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>o.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>d}),s(13290),s(51371),s(35866);var r=s(23191),a=s(88716),i=s(37922),o=s.n(i),n=s(95231),l={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);s.d(t,l);let d=["",{children:["shop",{children:["subscriptions",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,13290)),"/var/www/buydaocoins.aethexiz.com/app/shop/subscriptions/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,51371)),"/var/www/buydaocoins.aethexiz.com/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/var/www/buydaocoins.aethexiz.com/app/shop/subscriptions/page.tsx"],m="/shop/subscriptions/page",x={require:s,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/shop/subscriptions/page",pathname:"/shop/subscriptions",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},47672:(e,t,s)=>{Promise.resolve().then(s.bind(s,12968))},12968:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var r=s(10326),a=s(17577),i=s(35047),o=s(84139);let n=[{id:1,name:"Cultivator",emoji:"\uD83C\uDF1F",price:5,boost:100,color:"from-green-500 to-emerald-600"},{id:2,name:"Dao Seeker",emoji:"⭐",price:10,boost:200,color:"from-amber-500 to-yellow-600"},{id:3,name:"Immortal",emoji:"\uD83D\uDC8E",price:15,boost:400,color:"from-purple-500 to-pink-600"},{id:4,name:"Divine",emoji:"\uD83D\uDC51",price:22,boost:800,color:"from-rose-500 to-red-600"}],l=[{months:1,label:"1 Month",discount:0},{months:6,label:"6 Months",discount:10},{months:12,label:"1 Year",discount:20}];function d(){let{isAuthenticated:e,isLoading:t,discordId:s,server:d}=(0,o.a)(),c=(0,i.useRouter)(),[m,x]=(0,a.useState)(1),[u,p]=(0,a.useState)(1),[h,b]=(0,a.useState)(!1),[g,v]=(0,a.useState)(""),[j,f]=(0,a.useState)(null);if(t||!e)return r.jsx("div",{className:"h-screen flex items-center justify-center",children:r.jsx("div",{className:"spinner"})});let N=n.find(e=>e.id===m),w=l.find(e=>e.months===u),y=N.price*w.months,S=Math.round(y*(1-w.discount/100)*100)/100,_=y-S,P=j?.tier||0,C=m>P,k=m===P&&P>0,D=async()=>{b(!0),v("");try{let e=await fetch("/api/subscriptions/create-order",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tierId:m,months:u,amount:S,discordId:s,server:d||"S0"})});if(!e.ok)throw Error("Failed to create order");let t=await e.json();t.approvalUrl&&(window.location.href=t.approvalUrl)}catch(e){v(e.message)}finally{b(!1)}};return r.jsx("div",{className:"min-h-screen p-4 pb-24 md:pb-8",children:(0,r.jsxs)("div",{className:"max-w-lg mx-auto",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("button",{onClick:()=>c.push("/shop"),className:"text-gray-400 hover:text-white text-sm",children:"← Back"}),r.jsx("h1",{className:"text-xl font-bold text-amber-400",children:"Subscriptions"}),r.jsx("div",{className:"w-12"})]}),j&&r.jsx("div",{className:"glass rounded-xl p-4 mb-6 border border-green-500/30",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-2xl",children:n.find(e=>e.id===j.tier)?.emoji}),(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx("div",{className:"text-white font-bold",children:j.tier_name}),(0,r.jsxs)("div",{className:"text-green-400 text-sm",children:["+",j.qi_boost_percent,"% Active"]})]}),(0,r.jsxs)("div",{className:"text-right text-xs text-gray-400",children:["Expires",r.jsx("br",{}),new Date(j.expires_at).toLocaleDateString()]})]})}),(0,r.jsxs)("div",{className:"glass rounded-xl p-4 mb-4",children:[r.jsx("div",{className:"text-sm text-gray-400 mb-3 font-medium",children:"Select Tier"}),r.jsx("div",{className:"space-y-2",children:n.map(e=>(0,r.jsxs)("button",{onClick:()=>x(e.id),className:`w-full p-3 rounded-lg flex items-center justify-between transition-all ${m===e.id?"bg-amber-500/20 border border-amber-500":"bg-white/5 border border-transparent hover:bg-white/10"}`,children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-2xl",children:e.emoji}),(0,r.jsxs)("div",{className:"text-left",children:[(0,r.jsxs)("div",{className:"text-white font-medium flex items-center gap-2",children:[e.name,e.id===P&&r.jsx("span",{className:"text-[10px] bg-green-500 text-white px-1.5 py-0.5 rounded",children:"CURRENT"})]}),(0,r.jsxs)("div",{className:"text-gray-400 text-xs",children:["+",e.boost,"% Qi Boost"]})]})]}),(0,r.jsxs)("div",{className:"text-amber-400 font-bold",children:["$",e.price,"/mo"]})]},e.id))})]}),(0,r.jsxs)("div",{className:"glass rounded-xl p-4 mb-4",children:[r.jsx("div",{className:"text-sm text-gray-400 mb-3 font-medium",children:"Select Duration"}),r.jsx("div",{className:"grid grid-cols-3 gap-2",children:l.map(e=>(0,r.jsxs)("button",{onClick:()=>p(e.months),className:`p-3 rounded-lg text-center transition-all ${u===e.months?"bg-amber-500/20 border border-amber-500":"bg-white/5 border border-transparent hover:bg-white/10"}`,children:[r.jsx("div",{className:"text-white font-medium text-sm",children:e.label}),e.discount>0&&(0,r.jsxs)("div",{className:"text-green-400 text-xs font-bold",children:["-",e.discount,"%"]})]},e.months))})]}),(0,r.jsxs)("div",{className:"glass rounded-xl p-4 mb-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,r.jsxs)("span",{className:"text-gray-400 text-sm",children:[N.name," \xd7 ",w.label]}),_>0&&(0,r.jsxs)("span",{className:"text-green-400 text-sm font-bold",children:["Save $",_.toFixed(2)]})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-white font-bold text-lg",children:"Total"}),(0,r.jsxs)("span",{className:"text-amber-400 font-bold text-2xl",children:["$",S.toFixed(2)]})]}),C&&j&&(0,r.jsxs)("div",{className:"text-purple-400 text-xs mt-2",children:["Upgrading from ",j.tier_name]}),k&&r.jsx("div",{className:"text-green-400 text-xs mt-2",children:"Extending your current subscription"})]}),g&&r.jsx("div",{className:"bg-red-500/20 border border-red-500 text-red-400 p-3 rounded-lg mb-4 text-sm",children:g}),r.jsx("button",{onClick:D,disabled:h,className:`w-full py-4 rounded-xl font-bold text-white text-lg transition-all ${h?"bg-gray-600":C?"bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700":k?"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700":"bg-gradient-to-r from-amber-500 to-orange-600 hover:from-amber-600 hover:to-orange-700"}`,children:h?"Processing...":C?`Upgrade - $${S.toFixed(2)}`:k?`Extend - $${S.toFixed(2)}`:`Subscribe - $${S.toFixed(2)}`}),r.jsx("p",{className:"text-center text-gray-500 text-xs mt-4",children:"Secure payment via PayPal"})]})})}},84139:(e,t,s)=>{"use strict";s.d(t,{a:()=>i});var r=s(77109),a=s(17577);function i(){let{data:e,status:t}=(0,r.useSession)(),[s,i]=(0,a.useState)(null),[o,n]=(0,a.useState)(!1);return e?.user?{isAuthenticated:!0,isLoading:!1,discordId:e.user.id||null,server:"S0",userName:e.user.name||null,userImage:e.user.image||null,isCodeAuth:!1,logout:()=>{}}:s?{isAuthenticated:!0,isLoading:!1,discordId:s.discordId,server:s.server,userName:null,userImage:null,isCodeAuth:!0,logout:()=>{s&&(localStorage.removeItem("codeAuth"),i(null),window.location.reload())}}:{isAuthenticated:!1,isLoading:"loading"===t||!o,discordId:null,server:null,userName:null,userImage:null,isCodeAuth:!1,logout:()=>{}}}},13290:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(68570).createProxy)(String.raw`/var/www/buydaocoins.aethexiz.com/app/shop/subscriptions/page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[276,252,378],()=>s(52669));module.exports=r})();